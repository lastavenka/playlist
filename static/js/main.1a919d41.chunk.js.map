{"version":3,"sources":["components/sort-controls/sort-controls.jsx","constants.js","components/playlist-table/playlist-table.jsx","components/filters/filters.jsx","components/controls-set/controls-set.jsx","components/spinner/spinner.jsx","helpers.js","data.js","components/playlist/playlist.jsx","pages/home/home.jsx","App.js","serviceWorker.js","index.js"],"names":["SortControls","className","this","props","active","reverse","_this","react_default","a","createElement","defineClass","onClick","handleClick","sortBy","PureComponent","PLAYLIST_HEADERS","label","id","PLAYLIST_FILTERS","PLAYLIST_ROWS_COUNT","PLAYLIST_DEFAULT_ROWS_COUNT","PLAYLIST_DEFAULT_SORT_BY","PlayListTable","map","header","index_es","align","key","uid","sort_controls_sort_controls","_this2","data","item","hover","getCells","Object","values","value","getHeaders","getRows","Component","Filters","filters","length","filter","onChange","e","target","getValue","getItems","items","activeFilters","find","getFilters","ControlsSet","itemClass","Spinner","text","getRandom","min","max","Math","floor","random","getRandomFromArr","arr","generateData","names","genres","i","push","faker","word","band","song","words","genre","year","Promise","resolve","setTimeout","status","JSON","stringify","Playlist","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","error","loading","rows","currentPage","getPlaylistData","then","res","handleResponse","catch","err","setError","setState","parse","arguments","undefined","spinner_spinner","sortedData","sortData","sliceData","filtersList","filtersIds","forEach","_loop","includes","uniqueValues","Set","toConsumableArray","sort","b","localeCompare","unshift","_this$state","reduce","currentfilter","_this$state2","_this$state3","slice","_this3","_this$state4","filteredData","filterData","react","showTable","filters_filters","changeFilter","_this4","_this$state5","tableData","decorateTableData","playlist_table_playlist_table","changeSorting","dist_default","pageCount","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","page","changePage","previousLabel","nextLabel","containerClassName","pageClassName","activeClassName","nextClassName","previousClassName","disabledClassName","breakClassName","controls_set_controls_set","changeRowsCount","toggleSortDirection","selected","_ref","currentFilter","index","indexOf","splice","showError","showSpinner","showContent","Home","playlist_playlist","App","home","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1a919d41.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./sort-controls.css\";\n\nclass SortControls extends PureComponent {\n  defineClass() {\n    let className = \"sort-controls\";\n\n    if (this.props.active) {\n      className += this.props.reverse\n        ? \" sort-controls_direction_up\"\n        : \" sort-controls_direction_down\";\n    }\n    return className;\n  }\n\n  render() {\n    return (\n      <button\n        className={this.defineClass()}\n        onClick={() => this.props.handleClick(this.props.sortBy)}\n      />\n    );\n  }\n}\n\nSortControls.propTypes = {\n  reverse: PropTypes.bool,\n  active: PropTypes.bool,\n  handleClick: PropTypes.func.isRequired\n};\n\nexport default SortControls;\n","const GENRES_COUNT = 10;\nconst SONGS_COUNT = 500;\nconst BANDS_COUNT = 50;\nconst YEAR_MIN = 1986;\nconst YEAR_MAX = 2019;\n\nconst PLAYLIST_HEADERS = [{\n  label: \"Исполнитель\",\n  id: \"band\"\n}, {\n  label: \"Песня\",\n  id: \"song\"\n}, {\n  label: \"Жанр\",\n  id: \"genre\"\n}, {\n  label: \"Год\",\n  id: \"year\"\n}];\n\nconst PLAYLIST_FILTERS = [{\n  label: \"Исполнитель\",\n  id: \"band\"\n}, {\n  label: \"Жанр\",\n  id: \"genre\"\n}, {\n  label: \"Год\",\n  id: \"year\"\n}];\n\nconst PLAYLIST_ROWS_COUNT = [10, 25, 50, 100];\nconst PLAYLIST_DEFAULT_ROWS_COUNT = 10;\nconst PLAYLIST_DEFAULT_SORT_BY = \"band\";\n\nexport {\n  GENRES_COUNT,\n  SONGS_COUNT,\n  BANDS_COUNT,\n  YEAR_MIN,\n  YEAR_MAX,\n  PLAYLIST_HEADERS,\n  PLAYLIST_FILTERS,\n  PLAYLIST_ROWS_COUNT,\n  PLAYLIST_DEFAULT_ROWS_COUNT,\n  PLAYLIST_DEFAULT_SORT_BY\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow\n} from \"@material-ui/core\";\nimport SortControls from \"../sort-controls/sort-controls\";\nimport { PLAYLIST_HEADERS } from \"../../constants\";\nimport uid from \"uid\";\nimport \"./playlist-table.css\";\n\nclass PlayListTable extends Component {\n  getHeaders() {\n    return PLAYLIST_HEADERS.map(header => (\n      <TableCell align=\"left\" key={uid()}>\n        <div className=\"playlist-table__header\">\n          {header.label}\n          <SortControls\n            sortBy={header.id}\n            active={this.props.sortBy === header.id}\n            reverse={this.props.reverse}\n            handleClick={id => this.props.handleClick(id)}\n          />\n        </div>\n      </TableCell>\n    ));\n  }\n\n  getRows() {\n    const { data } = this.props;\n    return data.map(item => (\n      <TableRow key={uid()} hover>\n        {this.getCells(item)}\n      </TableRow>\n    ));\n  }\n\n  getCells(item) {\n    return Object.values(item).map(value => (\n      <TableCell key={uid()} align=\"left\">\n        {value}\n      </TableCell>\n    ));\n  }\n\n  render() {\n    return (\n      <Table className=\"playlist-table\">\n        <TableHead>\n          <TableRow>{this.getHeaders()}</TableRow>\n        </TableHead>\n        <TableBody>{this.getRows()}</TableBody>\n      </Table>\n    );\n  }\n}\n\nPlayListTable.propTypes = {\n  sortBy: PropTypes.string,\n  reverse: PropTypes.bool,\n  handleClick: PropTypes.func.isRequired,\n  data: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default PlayListTable;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Select, MenuItem, InputLabel } from \"@material-ui/core\";\nimport uid from \"uid\";\nimport \"./filters.css\";\n\nclass Filters extends PureComponent {\n  getFilters() {\n    if (!this.props.filters || !this.props.filters.length) return;\n\n    return this.props.filters.map(filter => (\n      <InputLabel key={uid()}>\n        {filter.label}\n        <Select\n          className=\"filters__select\"\n          onChange={e => this.props.onChange(filter.id, e.target.value)}\n          value={this.getValue(filter.id)}\n          key={uid()}\n        >\n          {this.getItems(filter.items, filter.id)}\n        </Select>\n      </InputLabel>\n    ));\n  }\n\n  getItems(items) {\n    return items.map(item => (\n      <MenuItem value={item} key={uid()}>\n        {item}\n      </MenuItem>\n    ));\n  }\n\n  getValue(id) {\n    const { activeFilters } = this.props;\n\n    if (activeFilters && activeFilters.length) {\n      const filter = activeFilters.find(filter => filter.id === id);\n      if (filter) {\n        return filter.value;\n      }\n    }\n    return \"все\";\n  }\n\n  render() {\n    return (\n      <div className=\"filters\">\n        <h2 className=\"filters__title\">Фильтр</h2>\n        <form>{this.getFilters()}</form>\n      </div>\n    );\n  }\n}\n\nFilters.propTypes = {\n  filters: PropTypes.arrayOf(PropTypes.object),\n  activeFilters: PropTypes.arrayOf(PropTypes.object),\n  onChange: PropTypes.func.isRequired\n};\n\nexport default Filters;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport uid from \"uid\";\nimport \"./controls-set.css\";\n\nconst ControlsSet = props => {\n  let itemClass = \"controls-set__item\";\n  let activeItemClass = itemClass + \" controls-set__item_state_active\";\n\n  return (\n    <ul className=\"controls-set\">\n      {props.items.map(item => (\n        <li\n          className={props.active === item ? activeItemClass : itemClass}\n          key={uid()}\n        >\n          <button onClick={() => props.handleClick(item)}>{item}</button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nControlsSet.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.number),\n  active: PropTypes.number,\n  handleClick: PropTypes.func.isRequired\n};\n\nexport default ControlsSet;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./spinner.css\";\n\nconst Spinner = props => {\n  return <span className=\"spinner\">{props.text}</span>;\n};\n\nSpinner.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default Spinner;\n","const getRandom = (min, max) => (min + Math.floor(Math.random() * (max - min)));\nconst getRandomFromArr = arr => arr[getRandom(0, arr.length - 1)];\n\nexport {\n  getRandom,\n  getRandomFromArr\n};\n","import faker from \"faker\";\nimport {\n  GENRES_COUNT,\n  SONGS_COUNT,\n  BANDS_COUNT,\n  YEAR_MIN,\n  YEAR_MAX\n} from \"./constants\";\nimport {\n  getRandom,\n  getRandomFromArr\n} from \"./helpers\";\n\nconst generateData = () => {\n  let names = [];\n  let genres = [];\n  let data = [];\n\n  for (let i = 1; i < BANDS_COUNT; i++) {\n    names.push(faker.random.word());\n  }\n\n  for (let i = 0; i < GENRES_COUNT; i++) {\n    genres.push(faker.random.word());\n  }\n\n  for (let i = 0; i < SONGS_COUNT; i++) {\n    data[i] = {\n      band: getRandomFromArr(names),\n      song: faker.random.words(),\n      genre: getRandomFromArr(genres),\n      year: getRandom(YEAR_MIN, YEAR_MAX)\n    }\n  }\n\n  // Response delay imitation\n  return new Promise(resolve => setTimeout(() => resolve({\n    status: 200,\n    data: JSON.stringify(data)\n  }), 1500));\n}\n\nexport default generateData;\n","import React, { Component, Fragment } from \"react\";\nimport \"./playlist.css\";\nimport PlayListTable from \"../playlist-table/playlist-table\";\nimport Filters from \"../filters/filters\";\nimport ControlsSet from \"../controls-set/controls-set\";\nimport Spinner from \"../spinner/spinner\";\nimport generateData from \"../../data\";\nimport {\n  PLAYLIST_DEFAULT_ROWS_COUNT,\n  PLAYLIST_DEFAULT_SORT_BY,\n  PLAYLIST_ROWS_COUNT,\n  PLAYLIST_FILTERS\n} from \"../../constants\";\nimport ReactPaginate from \"react-paginate\";\n\nclass Playlist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      error: false,\n      loading: true,\n      rows: PLAYLIST_DEFAULT_ROWS_COUNT,\n      currentPage: 1,\n      sortBy: PLAYLIST_DEFAULT_SORT_BY,\n      reverse: false,\n      activeFilters: []\n    };\n\n    this.generateData = generateData;\n  }\n\n  componentDidMount() {\n    this.getPlaylistData();\n  }\n\n  getPlaylistData() {\n    // fetch method imitation\n    this.generateData()\n      .then(res => this.handleResponse(res))\n      .catch(err =>\n        this.setError(\"Что-то пошло не так. Пожалуйста, попробуйте позже\")\n      );\n  }\n\n  handleResponse(res) {\n    if (res.status === 200) {\n      this.setState({ data: JSON.parse(res.data), loading: false });\n    } else {\n      this.setState({ loading: false });\n      this.setError(\"Что-то пошло не так. Пожалуйста, попробуйте позже\");\n    }\n  }\n\n  setError(error = \"\") {\n    this.setState({ error });\n  }\n\n  showError() {\n    const { error } = this.state;\n    if (error) return <span className=\"playlist__error\">{error}</span>;\n  }\n\n  showSpinner() {\n    if (this.state.loading) return <Spinner text=\"Идет загрузка...\" />;\n  }\n\n  decorateTableData(data) {\n    const sortedData = this.sortData(data);\n    const slicedData = this.sliceData(sortedData);\n\n    return slicedData;\n  }\n\n  getFilters() {\n    let filtersList = [];\n    let filtersIds = [];\n\n    PLAYLIST_FILTERS.forEach(filter => {\n      filtersList.push({ id: filter.id, label: filter.label, items: [] });\n      filtersIds.push(filter.id);\n    });\n\n    this.state.data.forEach(item => {\n      for (let key in item) {\n        if (!filtersIds.includes(key)) continue;\n        const currentFilter = filtersList.find(filter => filter.id === key);\n        currentFilter.items.push(item[key]);\n      }\n    });\n\n    filtersList.forEach(filter => {\n      const uniqueValues = new Set(filter.items);\n\n      filter.items = [...uniqueValues];\n      if (filter.id === \"year\") {\n        filter.items.sort();\n      } else {\n        filter.items.sort((a, b) => a.localeCompare(b));\n      }\n      filter.items.unshift(\"все\");\n    });\n\n    return filtersList;\n  }\n\n  filterData() {\n    const { data, activeFilters } = this.state;\n\n    if (!activeFilters.length) {\n      return data;\n    }\n    return activeFilters.reduce((arr, currentfilter) => {\n      return arr.filter(item => item[currentfilter.id] === currentfilter.value);\n    }, data);\n  }\n\n  sortData(data) {\n    const { sortBy, reverse } = this.state;\n    let sortedData = [];\n\n    if (sortBy === \"year\") {\n      sortedData = data.sort((a, b) =>\n        reverse ? a.year - b.year : b.year - a.year\n      );\n    } else {\n      sortedData = data.sort((a, b) =>\n        reverse\n          ? b[sortBy].localeCompare(a[sortBy])\n          : a[sortBy].localeCompare(b[sortBy])\n      );\n    }\n\n    return sortedData;\n  }\n\n  sliceData(data) {\n    const { rows, currentPage } = this.state;\n\n    return data.slice(rows * (currentPage - 1), rows * currentPage);\n  }\n\n  showContent() {\n    const { data, activeFilters } = this.state;\n    if (!data.length) return;\n\n    const filteredData = this.filterData();\n    const filtersList = this.getFilters();\n\n    return (\n      <Fragment>\n        <div className=\"playlist__inner\">\n          <h2 className=\"playlist__title\">Плейлист</h2>\n          {this.showTable(filteredData)}\n        </div>\n        <Filters\n          filters={filtersList}\n          activeFilters={activeFilters}\n          onChange={(value, id) => this.changeFilter(value, id)}\n        />\n      </Fragment>\n    );\n  }\n\n  showTable(filteredData) {\n    if (!filteredData.length)\n      return (\n        <span>\n          Нет данных для отображения. Попробуйте изменить фильтр поиска.\n        </span>\n      );\n\n    const { rows, currentPage } = this.state;\n    const tableData = this.decorateTableData(filteredData);\n\n    return (\n      <Fragment>\n        <PlayListTable\n          data={tableData}\n          sortBy={this.state.sortBy}\n          reverse={this.state.reverse}\n          handleClick={id => this.changeSorting(id)}\n        />\n        <div className=\"playlist__controls\">\n          <ReactPaginate\n            pageCount={filteredData.length / rows}\n            pageRangeDisplayed={2}\n            marginPagesDisplayed={1}\n            forcePage={currentPage - 1}\n            onPageChange={page => this.changePage(page)}\n            previousLabel={\"<\"}\n            nextLabel={\">\"}\n            containerClassName=\"pagination-controls\"\n            pageClassName=\"pagination-controls__item\"\n            activeClassName=\"pagination-controls__item_state_active\"\n            nextClassName=\"pagination-controls__btn pagination-controls__btn_direction_next\"\n            previousClassName=\"pagination-controls__btn pagination-controls__btn_direction_prev\"\n            disabledClassName=\"pagination-controls__btn_state_disabled\"\n            breakClassName=\"pagination-controls__break\"\n          />\n          <ControlsSet\n            items={PLAYLIST_ROWS_COUNT}\n            active={rows}\n            handleClick={rows => this.changeRowsCount(rows)}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n\n  changeSorting(sortBy) {\n    if (this.state.sortBy === sortBy) return this.toggleSortDirection();\n    this.setState({ sortBy, reverse: false });\n  }\n\n  changePage({ selected }) {\n    this.setState({ currentPage: selected + 1 });\n  }\n\n  changeRowsCount(rows) {\n    if (rows === this.state.rows) return;\n    this.setState({ rows, currentPage: 1 });\n  }\n\n  toggleSortDirection() {\n    this.setState({ reverse: !this.state.reverse });\n  }\n\n  changeFilter(id, value) {\n    let activeFilters = this.state.activeFilters;\n    const currentFilter = activeFilters.find(filter => filter.id === id);\n\n    if (currentFilter) {\n      const index = activeFilters.indexOf(currentFilter);\n      value === \"все\"\n        ? activeFilters.splice(index, 1)\n        : (activeFilters[index].value = value);\n    } else {\n      activeFilters.push({ id: id, value: value });\n    }\n    this.setState({ activeFilters, currentPage: 1 });\n  }\n\n  render() {\n    return (\n      <section className=\"playlist\">\n        {this.showError()}\n        {this.showSpinner()}\n        {this.showContent()}\n      </section>\n    );\n  }\n}\n\nexport default Playlist;\n","import React from 'react';\nimport Playlist from '../../components/playlist/playlist';\n\nconst Home  = () => {\n    return (\n      <main className=\"home-page\">\n        <Playlist />\n      </main>\n    );\n}\n\nexport default Home;\n","import React, {\n  Component\n} from 'react';\nimport Home from \"./pages/home/home\";\n\nclass App extends Component {\n  render() {\n    return <Home / > ;\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}