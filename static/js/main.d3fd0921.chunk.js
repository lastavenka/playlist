(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1302:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(60),s=n.n(o),i=(n(169),n(12)),l=n(13),c=n(15),u=n(14),h=n(16),m=(n(171),n(7)),g=(n(173),function(e){return r.a.createElement("button",{className:function(){var t="sort-controls";return e.active&&(t+=e.reverse?" sort-controls_direction_up":" sort-controls_direction_down"),t}(),onClick:function(){return e.handleClick(e.sortBy)}})}),f=[{label:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",id:"band"},{label:"\u041f\u0435\u0441\u043d\u044f",id:"song"},{label:"\u0416\u0430\u043d\u0440",id:"genre"},{label:"\u0413\u043e\u0434",id:"year"}],d=[10,25,50,100],p=10,v="band",y=n(17),_=n.n(y),b=(n(175),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getHeaders",value:function(){var e=this;return f.map(function(t){return r.a.createElement(m.c,{align:"left",key:_()()},r.a.createElement("div",{className:"playlist-table__header"},t.label,r.a.createElement(g,{sortBy:t.id,active:e.props.sortBy===t.id,reverse:e.props.reverse,handleClick:function(t){return e.props.handleClick(t)}})))})}},{key:"getRows",value:function(){var e=this,t=this.props.data;if(t.length)return t.map(function(t){return r.a.createElement(m.e,{key:_()(),hover:!0},e.getCells(t))})}},{key:"getCells",value:function(e){return Object.values(e).map(function(e){return r.a.createElement(m.c,{key:_()(),align:"left"},e)})}},{key:"render",value:function(){return r.a.createElement(m.a,{className:"playlist-table"},r.a.createElement(m.d,null,r.a.createElement(m.e,null,this.getHeaders())),r.a.createElement(m.b,null,this.getRows()))}}]),t}(a.Component)),k=(n(251),function(e){return r.a.createElement("ul",{className:"controls-set"},e.items.map(function(t){return r.a.createElement("li",{className:e.active===t?"controls-set__item controls-set__item_state_active":"controls-set__item",key:_()()},r.a.createElement("button",{onClick:function(){return e.handleClick(t)}},t))}))}),w=n(27),E=n.n(w),C=function(e,t){return e+Math.floor(Math.random()*(t-e))},N=function(e){return e[C(0,e.length-1)]},O=function(){for(var e=[],t=[],n=[],a=1;a<20;a++)e.push(E.a.random.word());for(var r=0;r<10;r++)t.push(E.a.random.word());for(var o=0;o<200;o++)n[o]={band:N(e),song:E.a.random.words(),genre:N(t),year:C(1986,2019)};return new Promise(function(e){return setTimeout(function(){return e({status:200,data:JSON.stringify(n)})},2e3)})},j=n(62),S=n.n(j),D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:[],error:!1,loading:!0,rows:p,currentPage:1,sortBy:v,reverse:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPlaylistData()}},{key:"getPlaylistData",value:function(){var e=this;O().then(function(t){return e.handleResponse(t)}).catch(function(t){return e.setError("Something went wrong, please try agein later")})}},{key:"handleResponse",value:function(e){200===e.status?this.setState({data:JSON.parse(e.data),loading:!1}):this.setError("Something went wrong, please try agein later")}},{key:"setError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({error:e})}},{key:"showError",value:function(){var e=this.state.error;if(e)return r.a.createElement("span",{className:"playlist__error"},e)}},{key:"showSpinner",value:function(){if(this.state.loading)return r.a.createElement("span",{className:"playlist__error"},"Loading...")}},{key:"getTableData",value:function(){var e=this.sortData();return this.sliceData(e)}},{key:"sortData",value:function(){var e=this.state,t=e.data,n=e.sortBy,a=e.reverse;if(t.length){return"year"===n?t.sort(function(e,t){return a?e.year-t.year:t.year-e.year}):t.sort(function(e,t){return a?t[n].localeCompare(e[n]):e[n].localeCompare(t[n])})}}},{key:"sliceData",value:function(e){var t=this.state,n=t.rows,a=t.currentPage;return e.slice(n*(a-1),n*a)}},{key:"showContent",value:function(){var e=this,t=this.state,n=t.data,o=t.rows,s=t.currentPage;if(n.length)return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"playlist__inner"},r.a.createElement("h2",{className:"playlist__title"},"\u041f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"),r.a.createElement(b,{data:this.getTableData(),sortBy:this.state.sortBy,reverse:this.state.reverse,handleClick:function(t){return e.changeSorting(t)}}),r.a.createElement("div",{className:"playlist__controls"},r.a.createElement(S.a,{pageCount:n.length/o,pageRangeDisplayed:2,marginPagesDisplayed:1,forcePage:s-1,onPageChange:function(t){return e.changePage(t)},previousLabel:"<",nextLabel:">",containerClassName:"pagination-controls",pageClassName:"pagination-controls__item",activeClassName:"pagination-controls__item_state_active",nextClassName:"pagination-controls__btn pagination-controls__btn_direction_next",previousClassName:"pagination-controls__btn pagination-controls__btn_direction_prev",disabledClassName:"pagination-controls__btn_state_disabled",breakClassName:"pagination-controls__break"}),r.a.createElement(k,{items:d,active:o,handleClick:function(t){return e.changeRowsCount(t)}}))))}},{key:"changeSorting",value:function(e){if(this.state.sortBy===e)return this.toggleSortDirection();this.setState({sortBy:e,reverse:!1})}},{key:"changePage",value:function(e){var t=e.selected;this.setState({currentPage:t+1})}},{key:"changeRowsCount",value:function(e){e!==this.state.rows&&this.setState({rows:e,currentPage:1})}},{key:"toggleSortDirection",value:function(){this.setState({reverse:!this.state.reverse})}},{key:"render",value:function(){return r.a.createElement("section",{className:"playlist"},this.showError(),this.showSpinner(),this.showContent())}}]),t}(a.Component),P=function(){return r.a.createElement("main",{className:"home-page"},r.a.createElement(D,null))},B=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(P,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},164:function(e,t,n){e.exports=n(1302)},169:function(e,t,n){},171:function(e,t,n){},173:function(e,t,n){},175:function(e,t,n){},251:function(e,t,n){}},[[164,2,1]]]);
//# sourceMappingURL=main.d3fd0921.chunk.js.map